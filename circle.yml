machine:
    timezone: Asia/Tokyo

dependencies:
    cache_directories:
      - ~/cache
    override:
      - mkdir -p ~/cache
      # node_moduelsのコピーとかさせる
      - bash circle.sh
      # setup
      - cd frontend && npm run setup
test:
    override:
      #テストコマンドの上書き ここにテストのコマンドを
      - cd frontend && npm run test

deployment:
    pre:
        - git config --global user.name "CircleCI"
        - git config --global user.email "circleci@example.com"
    deploy:
        branch: master
        commands:
          - cd frontend && npm run deploy
